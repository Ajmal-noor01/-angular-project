import{i as T}from"./chunk-LVDCID4Z.js";import{e as E}from"./chunk-KEKFTDOE.js";import{g as k,i as v}from"./chunk-7HBAQUPH.js";import{Ab as a,Ga as h,Ib as s,Ja as o,Lb as u,Ta as P,Z as C,_ as x,a as g,b,hb as M,ib as O,jb as y,kb as e,lb as n,mb as p,pb as w,tb as _,ub as f,vb as S,zb as r}from"./chunk-QBOCU6I6.js";function I(d,i){if(d&1){let t=w();e(0,"tr",8)(1,"td",21)(2,"div",22)(3,"div",23),p(4,"img",24),e(5,"h2",25),r(6),n()()()(),e(7,"td"),r(8),s(9,"currency"),n(),e(10,"td")(11,"div",26)(12,"p"),r(13),n(),e(14,"div",27)(15,"button")(16,"img",28),_("click",function(){let l=C(t).$implicit,m=f();return x(m.increaseCartNumber(l.id))}),n()(),e(17,"button")(18,"img",29),_("click",function(){let l=C(t).$implicit,m=f();return x(m.decreaseCartNumber(l.id))}),n()()()()(),e(19,"td",30),r(20),s(21,"currency"),n(),e(22,"td")(23,"button",31),_("click",function(){let l=C(t).$implicit,m=f();return x(m.removeFromCart(l.id))}),r(24,"remove"),n()()()}if(d&2){let t=i.$implicit;o(4),S("src",t.image,h),o(2),a(t.name),o(2),a(u(9,5,t.price,"USD","symbol","1.0-0")),o(5),a(t.quantity),o(7),a(u(21,10,t.subtotal,"USD","symbol","1.0-0"))}}var q=class d{productCart;productCarts=[];totalPrice=0;productDataCart=[];price=0;quantity=1;subtotal=0;ngOnInit(){this.productCarts=JSON.parse(localStorage.getItem("cartProducts")||"[]").map(i=>{let t=typeof i.quantity=="number"&&i.quantity>0?i.quantity:1;return b(g({},i),{quantity:t,subtotal:Number(i.price)*t})})}calculateTotalPrice(){this.totalPrice=this.productCarts.reduce((i,t)=>i+t.subtotal,0)}getTotalPrice(){return this.productCarts.reduce((i,t)=>i+(t.subtotal||0),0)}increaseCartNumber(i){return this.productCarts=this.productCarts.map(t=>t.id===i?b(g({},t),{quantity:t.quantity+1,subtotal:Number(t.price)*(t.quantity+1)}):t),this.updateCartStorage(),this.productCarts.map(t=>t.id)}decreaseCartNumber(i){return this.productCarts=this.productCarts.map(t=>t.id===i&&t.quantity>1?b(g({},t),{quantity:t.quantity-1,subtotal:Number(t.price)*(t.quantity-1)}):t),this.updateCartStorage(),this.productCarts}removeFromCart(i){return this.productCarts=this.productCarts.filter(t=>t.id!==i),this.updateCartStorage(),this.getTotalPrice(),this.productCarts}updateCartStorage(){localStorage.setItem("cartProducts",JSON.stringify(this.productCarts))}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=P({type:d,selectors:[["app-cart"]],decls:59,vars:12,consts:[[1,"cart-section"],[1,"flex","gap-[.5rem]","breadcrums"],[1,"table-section-parent"],[1,"cart-table"],[1,"table-section"],[1,"heading"],[1,"product-data-head","w-[11rem]"],[1,"total"],[1,"data"],[1,"flex","justify-between","gap-[1rem]"],["routerLink","/product-details",1,"return-shop"],["routerLink","/Check-out",1,"update-cart"],[1,"cart-total-section"],[1,"cart-coupon","flex","gap-[.5rem]","items-start"],["type","text","placeholder","Coupon Code",1,"coupon"],[1,"coupon-button"],[1,"cart-total"],[1,"subtotal-summary","flex","justify-between"],[1,"shipping","flex","justify-between"],[1,"total-summary","flex","justify-between"],["routerLink","/Check-out"],[1,"image-field","w-[20rem]","px-[1rem]"],[1,"product-data"],[1,"product-img","flex","gap-[.5rem]","items-center"],["alt","",1,"image",3,"src"],[1,"text-nowrap"],[1,"counter","flex"],[1,"counter-symbol","flex","flex-col","cursor-pointer"],["src","counter-up-arrow.svg","alt","",1,"counter-up","cursor-pointer",3,"click"],["src","counter-down-arrow.svg","alt","",1,"counter-down","cursor-pointer",3,"click"],[1,"subtotal"],[1,"cursor-pointer",3,"click"]],template:function(t,c){t&1&&(e(0,"section",0)(1,"div",1)(2,"p"),r(3,"Home"),n(),e(4,"p"),r(5,"/"),n(),e(6,"p"),r(7,"Cart"),n()(),e(8,"div",2)(9,"div",3)(10,"div",4)(11,"table")(12,"tr",5)(13,"th",6),r(14,"Product"),n(),e(15,"th"),r(16,"Price"),n(),e(17,"th"),r(18,"Quantity"),n(),e(19,"th",7),r(20,"Subtotal"),n(),e(21,"th"),r(22,"Action"),n()(),O(23,I,25,15,"tr",8,M),n()(),e(25,"div",9)(26,"button",10),r(27,"Return To Shop"),n(),e(28,"button",11),r(29,"Update Cart"),n()()(),e(30,"div",12)(31,"div",13),p(32,"input",14),e(33,"button",15),r(34,"Apply Coupon"),n()(),e(35,"div",16)(36,"h2"),r(37,"Cart Total"),n(),e(38,"div",17)(39,"p"),r(40,"Subtotal:"),n(),e(41,"p"),r(42),s(43,"currency"),n()(),p(44,"hr"),e(45,"div",18)(46,"p"),r(47,"Shipping:"),n(),e(48,"p"),r(49,"Free"),n()(),p(50,"hr"),e(51,"div",19)(52,"p"),r(53,"Total:"),n(),e(54,"p"),r(55),s(56,"currency"),n()(),e(57,"button",20),r(58,"Proceeds to checkout"),n()()()()()),t&2&&(o(23),y(c.productCarts),o(19),a(u(43,2,c.getTotalPrice(),"USD","symbol","1.0-0")),o(13),a(u(56,7,c.getTotalPrice(),"USD","symbol","1.0-0")))},dependencies:[E,T,v,k],styles:["section[_ngcontent-%COMP%]{padding-inline:4rem}.cart-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-block:4rem;padding-top:3rem}.product-table[_ngcontent-%COMP%]{display:flex;padding-inline:2rem;justify-content:space-between;border:1px solid;padding-block:1rem}.product-data[_ngcontent-%COMP%]{display:flex;padding-inline:2rem;justify-content:space-between;border:1px solid;padding-block:1rem;border:none}.breadcrums[_ngcontent-%COMP%]{font-size:.9rem;color:#0000005a}.breadcrums[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-last-child(1){color:#000}.table-section-parent[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding-block:3rem}.table-section[_ngcontent-%COMP%]{border:none;overflow:auto;padding-block:0}.cart-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}table[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow:scroll;border-collapse:separate;border-spacing:0 15px;border:none;padding-inline:1rem}tr[_ngcontent-%COMP%]{padding-inline:1rem}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:red;font-weight:500}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none}.heading[_ngcontent-%COMP%]{box-shadow:0 1px 13px #0000000d}.product-data-head[_ngcontent-%COMP%]{border-left:1px solid;border-bottom-left-radius:.3rem;border-top-left-radius:.3rem;padding-block:.8rem}.data[_ngcontent-%COMP%]{box-shadow:0 1px 13px #0000000d}.image-field[_ngcontent-%COMP%]{padding-inline:0;border-left:1px solid;border-bottom-left-radius:.3rem;border-top-left-radius:.3rem}.total[_ngcontent-%COMP%], .subtotal[_ngcontent-%COMP%]{border-right:1px solid;border-bottom-right-radius:.3rem;border-top-right-radius:.3rem}td[_ngcontent-%COMP%]{text-align:center;border-block:1px solid black}th[_ngcontent-%COMP%]{padding-inline:2rem;border-inline:none;border-block:1px solid black}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:25rem}.product-img[_ngcontent-%COMP%]{display:flex}.product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.counter[_ngcontent-%COMP%]{text-align:center;margin-inline:auto;justify-content:center;gap:.5rem;max-width:3rem;border:1px solid;padding-block:.2rem;border-radius:.2rem}.counter-symbol[_ngcontent-%COMP%]{justify-content:space-around}.counter-up[_ngcontent-%COMP%], .counter-down[_ngcontent-%COMP%]{width:.5rem}.return-shop[_ngcontent-%COMP%]{border:1px solid;max-width:10rem;width:100%;border-radius:.2rem;padding-block:.4rem;cursor:pointer;font-size:.9rem;font-weight:500;padding-block:.8rem}.return-shop[_ngcontent-%COMP%]:hover{background-color:#db4444;color:#fff}.update-cart[_ngcontent-%COMP%]{border:1px solid;max-width:10rem;width:100%;border-radius:.2rem;padding-block:.4rem;cursor:pointer;font-size:.9rem;font-weight:500;padding-block:.8rem}.update-cart[_ngcontent-%COMP%]:hover{background-color:#db4444;color:#fff}.cart-total-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-block:2rem;gap:1rem}.cart-total[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid;max-width:22rem;width:100%;padding-block:1rem;padding-inline:1rem;gap:1rem;border-radius:.3rem}.cart-total[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500}.cart-total[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:.2rem;border:1px solid;align-self:center;width:100%;cursor:pointer;background-color:#db4444;color:#fff;font-size:.9rem;padding-block:.8rem;max-width:13rem}.cart-total[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.coupon[_ngcontent-%COMP%]{border:1px solid;padding-inline:.5rem;border-radius:.2rem;padding-block:.6rem;font-size:.9rem;outline:none}.coupon-button[_ngcontent-%COMP%]{border:1px solid;padding-inline:.5rem;border-radius:.2rem;cursor:pointer;background-color:#db4444;color:#fff;width:12rem;padding-block:.6rem;font-size:.9rem}.coupon-button[_ngcontent-%COMP%]:hover{opacity:.9}@media (max-width: 830px){section[_ngcontent-%COMP%]{padding-inline:2rem}.cart-total-section[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;gap:1rem}.coupon[_ngcontent-%COMP%]{max-width:12rem;width:100%}.coupon-button[_ngcontent-%COMP%]{text-wrap:nowrap;max-width:9rem;width:100%}.cart-total[_ngcontent-%COMP%]{max-width:100%}.cart-coupon[_ngcontent-%COMP%]{max-width:100%;justify-content:space-between;width:100%}}@media (max-width: 600px){section[_ngcontent-%COMP%]{padding-inline:1rem}.breadcrums[_ngcontent-%COMP%]{display:none}.cart-section[_ngcontent-%COMP%]{padding-block:1rem}.table-section-parent[_ngcontent-%COMP%]{padding-top:1rem}}"]})};export{q as CartComponent};
